@use "sass:color";
@import "../node_modules/nord/src/sass/nord.scss";

@function invert-color($color) {
    $adjust: if(
        color.whiteness($color) > 60,
        -100%,
        100%,
    );
    @return color.adjust($color, $lightness: $adjust);
}

@mixin theme($text, $background) {
    $adjust: if(
        color.whiteness($text) > color.whiteness($background),
        1,
        -1,
    );
    $adjust-focus: $adjust * 5%;

    /* css */
    --color-text: #{ $text };
    --color-background: #{ $background };
}

:root {
    @include theme(
        /*       text */ lighten($nord6, 5),
        /* background */ darken($nord0, 5),
    );

    --color-primary: 213, 52%, 52%;
    --color-secondary: 220deg, 16.48%, 35.69%;
    --color-danger: 354.35deg, 62.16%, 56.47%;
    --color-success: 178.52deg, 45.25%, 64.9%;

    --filter-focus: brightness(1.1);
    --filter-active: brightness(1.3);

    --box-shadow: 0 1px 3px #{ $nord1 };
    --text-shadow: 0 0 1px #{ $nord1 };
}

.light {
    @include theme(
        /*       text */ black,
        /* background */ white,
    );

    --color-primary: 213, 52%, 52%;
    --color-secondary: 0deg, 0%, 75.29%;
    --color-danger: 354.35deg, 62.16%, 56.47%;
    --color-success: 178.52deg, 45.25%, 64.9%;

    --filter-focus: brightness(0.95);
    --filter-active: brightness(0.8);

    --box-shadow: 0 1px 3px #{ $nord4 };
    --text-shadow: 0 0 1px #{ $nord4 };
}
