nav {
    flex-direction: row;
    align-items: center;

    .expand {
        flex-grow: 1;
    }
}

body>header {
    &>nav {
        border-bottom: var(--border);
    }

    &>input[type="checkbox"] {
        display: none;
    }
}

@media only screen and (max-width: 768px) {
    body>header {
        position: static;

        &>input[type="checkbox"] {
            display: block;
            position: fixed;
            bottom: 0;
            left: 0;
            width: auto;
            height: auto;
            z-index: 10;
            border: 0;
            border-radius: 0 var(--border-radius) 0 0;
            background-color: hsl(var(--color-primary));
            color: hsl(var(--color-text));

            &:hover {
                filter: var(--filter-focus);
            }

            &:active {
                filter: var(--filter-active);
            }

            &:not(:checked)+nav {
                display: none;
            }

            &::before {
                content: "Menu";
                position: static;
                background-image: var(--icon-hamburger);
                background-position: var(--space-s) center;
                background-size: 1rem;
                background-repeat: no-repeat;

                padding: var(--space-xs) var(--space-s);
                padding-left: calc(var(--space-s) + 1rem + var(--space-xs));
            }

            &:checked::before {
                content: "Close";
                background-image: var(--icon-close);
            }
        }

        &>nav {
            position: fixed;
            inset: 0;
            z-index: 9;
            flex-direction: column;

            /* space for the hamburger button */
            padding-bottom: calc(var(--line-height) + 2 * var(--space-xs) + var(--space));

            button,
            .button,
            [type="button"],
            .dropdown {
                width: 100%;
                text-align: left;
            }

            &>.dropdown>.menu {
                position: static;
                border: 0;
                border-radius: 0;
                background-color: hsla(var(--color-secondary), .2);
                box-shadow: none;

                button,
                .button,
                [type="button"] {
                    padding-left: var(--space-xl);
                }
            }
        }
    }
}
